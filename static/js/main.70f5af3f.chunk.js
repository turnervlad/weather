(this.webpackJsonpcodica=this.webpackJsonpcodica||[]).push([[0],{24:function(e,t,c){},33:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var i=c(0),a=c.n(i),n=c(15),s=c.n(n),r=(c(33),c(24),c(4)),l=c(11),o=c(1);var j=function(e){var t=e.city,c=e.cityGet,i=Object(r.c)((function(e){return e.citiesData[t]})),a=Object(r.b)();return i?Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"city",children:t.toUpperCase()}),Object(o.jsxs)("div",{children:["Daily temperature:",Object(o.jsx)("span",{className:"temperature",children:i.main.temp})]}),Object(o.jsxs)("div",{children:["Feels like:",Object(o.jsx)("span",{className:"feels__like",children:i.main.feels_like})]}),Object(o.jsxs)("div",{className:"buttons",children:[Object(o.jsx)(l.b,{to:"/"+t,children:"Detailed"}),Object(o.jsx)("button",{onClick:function(){return c(t)},children:"Update"}),Object(o.jsx)("button",{onClick:function(){return a({type:"DELETE_CITY",city:t})},children:"Delete"})]})]}):null},d=c(28),b=c(27),u=c(14),h=c(5),O=c(17),p="ADD_NEW_CITY",f="ADD_CITY_DATA",m="DELETE_CITY",x="SET_LOADING_MAIN_PAGE",v="SET_LOADING_DETAILS_PAGE";function y(e){localStorage.getItem("cities")?localStorage.setItem("cities",localStorage.getItem("cities")+","+e):localStorage.setItem("cities",e)}var g={cities:["london","kharkiv"],citiesData:{},isLoadingMain:!0,isLoadingDetails:!0},D=Object(O.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)(Object(h.a)({},e),{},{citiesData:Object(h.a)(Object(h.a)({},e.citiesData),{},Object(u.a)({},t.city,t.data))});case p:return localStorage.getItem("cities")&&localStorage.getItem("cities").split(",").includes(t.city)||y(t.city),Object(h.a)(Object(h.a)({},e),{},{cities:[].concat(Object(b.a)(e.cities),[t.city]),citiesData:Object(h.a)(Object(h.a)({},e.citiesData),{},Object(u.a)({},t.city,t.data))});case m:return delete e.citiesData[t.city],localStorage.setItem("cities",localStorage.getItem("cities").split(",").filter((function(e){return e!==t.city}))),Object(h.a)(Object(h.a)({},e),{},{cities:e.cities.filter((function(e){return e!==t.city}))});case x:return Object(h.a)(Object(h.a)({},e),{},{isLoadingMain:t.payload});case v:return Object(h.a)(Object(h.a)({},e),{},{isLoadingDetails:t.payload});default:return e}}),g);var _=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(r.b)();return Object(o.jsxs)("div",{className:"addnewcity_container",children:[Object(o.jsx)("div",{className:"title",children:"ADD NEW CITY"}),Object(o.jsx)("input",{onChange:function(e){return a(e.target.value)},value:c,placeholder:"type the city..."}),Object(o.jsx)("button",{onClick:function(){return e=c,void fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&lang=ru&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(t){t.cod>=200&&t.cod<300?(n({type:p,city:e,data:t}),a("")):alert(t.message)}));var e},children:"Submit"})]})};var w=function(){Object(r.c)((function(e){return e.cities}));var e=Object(r.c)((function(e){return e.isLoadingMain})),t=Object(r.b)(),c=localStorage.getItem("cities");function a(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&lang=ru&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(c){return t({type:f,city:e,data:c})}))}return Object(i.useEffect)((function(){c&&c.split(",").forEach((function(e){return a(e)})),t({type:x,payload:!1})}),[]),Object(o.jsxs)("div",{className:"main_container",children:[Object(o.jsx)(_,{}),Object(o.jsxs)("div",{className:"card_container",children:[e?Object(o.jsx)("div",{className:"main_loader",children:"Loading..."}):null,c?c.split(",").map((function(e,t){return Object(o.jsx)(j,{city:e,cityGet:a},t+e)})):null]})]})},I=c(3);var E=function(){var e=Object(I.f)().city,t=Object(r.c)((function(t){return t.citiesData[e]})),c=Object(r.b)(),a=Object(r.c)((function(e){return e.isLoadingDetails}));return Object(i.useEffect)((function(){t||function(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(t){return c({type:p,city:e,data:t})}))}(e),c({type:v,payload:!1})}),[]),t?Object(o.jsxs)("div",{className:"details",children:[a?Object(o.jsx)("div",{className:"detail_loader",children:"Loading"}):null,Object(o.jsx)("div",{children:e.toUpperCase()}),Object(o.jsx)("div",{children:t.weather[0].main}),Object(o.jsxs)("div",{children:["Temperature now",Object(o.jsx)("span",{children:t.main.temp})]}),Object(o.jsxs)("div",{children:["Feels like",Object(o.jsx)("span",{children:t.main.feels_like})]}),Object(o.jsxs)("div",{children:["Max daily temperature",Object(o.jsx)("span",{children:t.main.temp_max})]}),Object(o.jsxs)("div",{children:["Min daily temperature",Object(o.jsx)("span",{children:t.main.temp_min})]}),Object(o.jsxs)("div",{children:["Humidity",Object(o.jsx)("span",{children:t.main.humidity})]}),Object(o.jsxs)("div",{children:["Pressure",Object(o.jsx)("span",{children:t.main.pressure})]}),Object(o.jsxs)("div",{children:["Wind speed",Object(o.jsx)("span",{children:t.wind.speed})]})]}):null};var N=function(){return Object(o.jsx)(l.a,{basename:"/weather",children:Object(o.jsxs)(I.c,{children:[Object(o.jsx)(I.a,{exact:!0,path:"/:city",children:Object(o.jsx)(E,{})}),Object(o.jsx)(I.a,{exact:!0,path:"/",children:Object(o.jsx)(w,{})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(r.a,{store:D,children:Object(o.jsx)(N,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.70f5af3f.chunk.js.map