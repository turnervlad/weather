(this.webpackJsonpcodica=this.webpackJsonpcodica||[]).push([[0],{24:function(e,t,c){},33:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var i=c(0),n=c.n(i),a=c(15),s=c.n(a),r=(c(33),c(24),c(4)),l=c(11),o=c(1);var j=function(e){var t=e.city,c=e.cityGet,i=Object(r.c)((function(e){return e.citiesData[t]})),n=Object(r.b)();return i?Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("div",{className:"city",children:t.toUpperCase()}),Object(o.jsxs)("div",{children:["Daily temperature:",Object(o.jsx)("span",{className:"temperature",children:i.main.temp})]}),Object(o.jsxs)("div",{children:["Feels like:",Object(o.jsx)("span",{className:"feels__like",children:i.main.feels_like})]}),Object(o.jsxs)("div",{className:"buttons",children:[Object(o.jsx)(l.b,{to:"/"+t,children:"Detailed"}),Object(o.jsx)("button",{onClick:function(){return c(t)},children:"Update"}),Object(o.jsx)("button",{onClick:function(){return n({type:"DELETE_CITY",city:t})},children:"Delete"})]})]}):null},d=c(28);var b=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],a=Object(r.b)();return Object(o.jsxs)("div",{className:"addnewcity_wrapper",children:[Object(o.jsx)("div",{className:"title",children:"ADD NEW CITY"}),Object(o.jsx)("input",{onChange:function(e){return n(e.target.value)},value:c,placeholder:"type the city..."}),Object(o.jsx)("button",{onClick:function(){return e=c,void fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&lang=ru&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(t){t.cod>=200&&t.cod<300?(a({type:"ADD_NEW_CITY",city:e,data:t}),n("")):alert(t.message)}));var e},children:"Submit"})]})};var u=function(){Object(r.c)((function(e){return e.cities}));var e=Object(r.c)((function(e){return e.isLoadingMain})),t=Object(r.b)(),c=localStorage.getItem("cities");function n(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&lang=ru&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(c){return t({type:"ADD_CITY_DATA",city:e,data:c})}))}return Object(i.useEffect)((function(){c&&c.split(",").forEach((function(e){return n(e)})),t({type:"SET_LOADING_MAIN_PAGE",payload:!1})}),[]),Object(o.jsxs)("div",{className:"main_container",children:[Object(o.jsx)(b,{}),Object(o.jsxs)("div",{className:"card_container",children:[e?Object(o.jsx)("div",{className:"main_loader",children:"Loading..."}):null,c?c.split(",").map((function(e,t){return Object(o.jsx)(j,{city:e,cityGet:n},t+e)})):null]})]})},O=c(3);var h=function(){var e=Object(O.f)().city,t=Object(r.c)((function(t){return t.citiesData[e]})),c=Object(r.b)(),n=Object(r.c)((function(e){return e.isLoadingDetails}));return Object(i.useEffect)((function(){console.log(t),t||function(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=b1ef2fb4dfe2ab9c8640525cfc37cf19")).then((function(e){return e.json()})).then((function(t){return c({type:"ADD_NEW_CITY",city:e,data:t})}))}(e),c({type:"SET_LOADING_DETAILS_PAGE",payload:!1})}),[]),t?Object(o.jsxs)("div",{className:"details",children:[n?Object(o.jsx)("div",{className:"detail_loader",children:"Loading"}):null,Object(o.jsx)("div",{children:e.toUpperCase()}),Object(o.jsx)("div",{children:t.weather[0].main}),Object(o.jsxs)("div",{children:["Temperature now",Object(o.jsx)("span",{children:t.main.temp})]}),Object(o.jsxs)("div",{children:["Feels like",Object(o.jsx)("span",{children:t.main.feels_like})]}),Object(o.jsxs)("div",{children:["Max daily temperature",Object(o.jsx)("span",{children:t.main.temp_max})]}),Object(o.jsxs)("div",{children:["Min daily temperature",Object(o.jsx)("span",{children:t.main.temp_min})]}),Object(o.jsxs)("div",{children:["Humidity",Object(o.jsx)("span",{children:t.main.humidity})]}),Object(o.jsxs)("div",{children:["Pressure",Object(o.jsx)("span",{children:t.main.pressure})]}),Object(o.jsxs)("div",{children:["Wind speed",Object(o.jsx)("span",{children:t.wind.speed})]})]}):null};var p=function(){return Object(o.jsx)(l.a,{children:Object(o.jsxs)(O.c,{children:[Object(o.jsx)(O.a,{path:"/:city",children:Object(o.jsx)(h,{})}),Object(o.jsx)(O.a,{path:"/",children:Object(o.jsx)(u,{})})]})})},f=c(27),m=c(14),x=c(5),v=c(17),y="ADD_NEW_CITY",g="ADD_CITY_DATA",D="DELETE_CITY",_="SET_LOADING_MAIN_PAGE",I="SET_LOADING_DETAILS_PAGE";function E(e){localStorage.getItem("cities")?localStorage.setItem("cities",localStorage.getItem("cities")+","+e):localStorage.setItem("cities",e)}var A={cities:["london","kharkiv"],citiesData:{},isLoadingMain:!0,isLoadingDetails:!0},N=Object(v.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(x.a)(Object(x.a)({},e),{},{citiesData:Object(x.a)(Object(x.a)({},e.citiesData),{},Object(m.a)({},t.city,t.data))});case y:return localStorage.getItem("cities")&&localStorage.getItem("cities").split(",").includes(t.city)||E(t.city),Object(x.a)(Object(x.a)({},e),{},{cities:[].concat(Object(f.a)(e.cities),[t.city]),citiesData:Object(x.a)(Object(x.a)({},e.citiesData),{},Object(m.a)({},t.city,t.data))});case D:return delete e.citiesData[t.city],localStorage.setItem("cities",localStorage.getItem("cities").split(",").filter((function(e){return e!==t.city}))),Object(x.a)(Object(x.a)({},e),{},{cities:e.cities.filter((function(e){return e!==t.city}))});case _:return Object(x.a)(Object(x.a)({},e),{},{isLoadingMain:t.payload});case I:return Object(x.a)(Object(x.a)({},e),{},{isLoadingDetails:t.payload});default:return e}}),A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(r.a,{store:N,children:Object(o.jsx)(p,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.2a11dbed.chunk.js.map